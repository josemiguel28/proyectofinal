<?phpnamespace Controllers\Servicios;use Controllers\PublicController;use Dao\CartV2\CartV2;use Views\Renderer;use Dao\Servicios\Servicios as ServiciosDao;use Utilities\Security;use Utilities\Site;class Juegos extends PublicController{    private $viewData;    private $productoEnCarrito = false;    public function __construct()    {        parent::__construct();              $this->id_session = session_id();    }    private function getPostData()    {        $this->servicioId = isset($_POST["servicioId"]) ? $_POST["servicioId"] : 0;    }    private function agregarProductoAlCarrito()    {        if (Security::isLogged() == false) {            Site::redirectToWithMsg("index.php?page=Sec_Login", "Debe iniciar sesiÃ³n para agregar productos al carrito");        }else{            $usercod = \Utilities\Security::getUserId();            $crrctd = 1;            $crrprc = 0;            $crrfching = date("Y-m-d H:i:s");            CartV2::agregarProductoAlCarrito($usercod, $this->servicioId, $crrctd, $crrprc, $crrfching, $this->id_session);            Site::redirectToWithMsg("index.php?page=Servicios_Juegos", "Producto agregado al carrito");        }    }        private function prepareViewData(){        $this->viewData["products"] = ServiciosDao::getGamesProducts(1000);        $this->viewData["productoEnCarrito"] = true;        $this->viewData["servicioId"] = $this->servicioId;    }    public function run() :void    {        $this->getPostData();        if ($this->isPostBack()) {            $this->agregarProductoAlCarrito();        }        $this->prepareViewData();                Renderer::render("servicios/juegos", $this->viewData);    }}